<div class="frame primary-bg" data-page="user_edit_password">
  <%= render "user_top" %>
  <div class="container user-main-container">
    <%= render "user_sidebar" %>
    <div class="user-main">
      <%= simple_form_for(@user, url: update_my_password_path, method: :put, html: { class: "form-horizontal", role: "form" }) do |f| %>

        <% if @user.errors.any? %>
          <div class="alert-block">
            <%= image_tag "icon/alert.svg", class: 'alert-icon', alt: 'alert' %>
            <div class="alert-content">
              <%= f.error_notification %>
              <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>
              <div class="alert alert-danger alert-dismissable" role="alert">
                <ul>
                <% @user.errors.full_messages.each do |msg| %>
                  <li><%= msg %></li>
                <% end %>
                </ul>
              </div>
            </div>
          </div>
        <% end %>

        <div class="form-inputs">
          <%= f.input :current_password, input_html: { autocomplete: :off } %>
          <%= f.input :password, hint: '請輸入 6 個以上的英文字母、符號 或 數字', input_html: { autocomplete: :off } %>
          <%= f.input :password_confirmation, hint: '請再輸入一次相同密碼', input_html: { autocomplete: :off } %>
        </div>
        <div class="form-actions user-custom-btn">
          <%= f.button :submit, t(".save_password"), class: 'btn btn-primary' %>
        </div>
      <% end %>
    </div>
  </div>
</div>


